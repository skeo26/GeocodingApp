# GeocodingApp

## Описание проекта
**GeocodingApp** — это приложение для получения географических координат (широта и долгота) по указанному адресу с использованием различных API провайдеров геокодирования.

Приложение поддерживает следующих провайдеров:
- [Яндекс Геокодер](https://yandex.ru/dev/maps/geocoder/)
- [2ГИС API](https://dev.2gis.com/)

## Структура проекта

### Основные классы и интерфейсы
- **Coordinates**: Класс, представляющий географические координаты (широта и долгота).
- **IGeocodingProvider**: Интерфейс для реализации провайдеров геокодирования. Определяет метод `Task<Coordinates> GetCoordinatesAsync(string address)`.
- **DgisGeocoder**: Реализация провайдера геокодирования с использованием API 2ГИС.
- **YandexGeocoder**: Реализация провайдера геокодирования с использованием API Яндекс Геокодера.
- **GeocodingService**: Сервис для выполнения запросов на геокодирование с использованием заданного провайдера.
- **Program**: Точка входа в приложение. Реализует выбор провайдера, ввод адреса и вывод результата.

### Зависимости
- [Newtonsoft.Json](https://www.newtonsoft.com/json): Для работы с JSON.
- [System.Net.Http](https://learn.microsoft.com/en-us/dotnet/api/system.net.http): Для выполнения HTTP-запросов к API.

## Установка и запуск

### Предварительные требования
1. Установленный [.NET 6.0 SDK](https://dotnet.microsoft.com/en-us/download/dotnet/6.0).
2. Полученные API ключи для Яндекс Геокодера и 2ГИС API.

### Инструкция по запуску
1. Склонируйте репозиторий:
   ```bash
   git clone <URL вашего репозитория>
   cd GeocodingApp
   ```
2. Откройте проект в вашей IDE (например, Visual Studio или Rider).
3. В файлах **DgisGeocoder** и **YandexGeocoder** замените значения полей `ApiKey` на ваши актуальные ключи.
4. Запустите приложение:
   ```bash
   dotnet run
   ```

5. Следуйте инструкциям в консоли:
   - Выберите провайдера (1 — Яндекс, 2 — 2ГИС).
   - Введите адрес для поиска координат.

## Пример работы
Пример работы приложения:
```plaintext
Выберите провайдер (1 - Яндекс, 2 - 2ГИС):
1
Введите адрес для определения координат:
Москва, Красная площадь
Координаты: Широта 55.753215, Долгота 37.622504
```

## Возможные ошибки
1. **Неверный ввод адреса**:
   - Если адрес пустой или содержит только пробелы, приложение выдаст сообщение об ошибке: `Адрес не может быть пустым.`

2. **Проблемы с API**:
   - При отсутствии данных от API будет выведено сообщение: `Координаты не найдены для указанного адреса.`
   - Если ключ API неверный или истёк, вы получите ошибку HTTP.

## Расширение функциональности
### Добавление нового провайдера
Для добавления нового провайдера:
1. Реализуйте интерфейс `IGeocodingProvider`.
2. Реализуйте метод `GetCoordinatesAsync`, используя API нового провайдера.
3. Добавьте реализацию в выбор провайдера в классе `Program`.

Пример добавления:
```csharp
public class NewGeocoder : IGeocodingProvider
{
    public async Task<Coordinates> GetCoordinatesAsync(string address)
    {
        // Реализация работы с новым API
    }
}
```

